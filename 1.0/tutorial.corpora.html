<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>A Closer Look at Corpora &mdash; tethne 1.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <link rel="top" title="tethne 1.0 documentation" href="index.html" >
    <link rel="up" title="Tutorials" href="tutorials.html" >
    <link rel="next" title="tethne package" href="tethne.html" >
    <link rel="prev" title="Creating Networks from Bibliographic Data" href="tutorial.networks.html" > 
  </head>
  <body>

<div class="container">
  <div class="top-scipy-org-logo-header">
    <a href="index.html">
      <img style="border: 0; height: 60px;" alt="SciPy" src="_static/img/logo_long_devo.png"></a>
    </div>
  </div>
</div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="http://diging.github.io/tethne/">Tethne</a></li>
	
        <li class="active"><a href="index.html">tethne 1.0 documentation</a></li>
	
          <li class="active"><a href="tutorials.html" accesskey="U">Tutorials</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="tethne.html" title="tethne package"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="tutorial.networks.html" title="Creating Networks from Bibliographic Data"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="code python highlight-python"><div class="highlight"><pre>%matplotlib inline
</pre></div>
</div>
<div class="code python highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
</pre></div>
</div>
<div class="section" id="a-closer-look-at-corpora">
<h1>A Closer Look at Corpora<a class="headerlink" href="#a-closer-look-at-corpora" title="Permalink to this headline">¶</a></h1>
<p>A <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a> is a collection of <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s with superpowers. Most
importantly, it provides a consistent way of indexing bibliographic
records. Indexing is important, because it sets the stage for all of the
subsequent analyses that we may wish to do with our bibliographic data.</p>
<p>In <a class="reference internal" href="tutorial.parsing_data.html#parsingdata"><span>Parsing Bibliographic Data</span></a> we used the <code class="docutils literal"><span class="pre">read</span></code> function in
<a class="reference internal" href="tethne.readers.wos.html#module-tethne.readers.wos" title="tethne.readers.wos"><code class="xref py py-mod docutils literal"><span class="pre">tethne.readers.wos</span></code></a> to parse a collection of Web of Science
field-tagged data files and build a <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a>.</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.readers</span> <span class="kn">import</span> <span class="n">wos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datapath</span> <span class="o">=</span> <span class="s">&#39;/Users/erickpeirson/Downloads/datasets/wos&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span> <span class="o">=</span> <span class="n">wos</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">datapath</span><span class="p">)</span>
</pre></div>
</div>
<p>In this notebook, we&#8217;ll dive deeper into the guts of the <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a>,
focusing on indexing and and features.</p>
</div>
<div class="section" id="setting-the-primary-indexing-field-index-by">
<h1>Setting the primary indexing field: <code class="docutils literal"><span class="pre">index_by</span></code><a class="headerlink" href="#setting-the-primary-indexing-field-index-by" title="Permalink to this headline">¶</a></h1>
<p>The <strong>primary indexing field</strong> is the field that Tethne uses to identify
each of the <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s in your dataset. Ideally, each one of the
records in your bibliographic dataset will have this field. Good
candidates include DOIs, URIs, or other unique identifiers.</p>
<p>Depending on which module you use, <code class="docutils literal"><span class="pre">read</span></code> will make assumptions about
which field to use as the primary index for the <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s in your
dataset. The default for Web of Science data, for example, is
<code class="docutils literal"><span class="pre">'wosid'</span></code> (the value of the <code class="docutils literal"><span class="pre">UT</span></code> field-tag).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;The primary index field for the Papers in my Corpus is &quot;</span><span class="si">%s</span><span class="s">&quot;&#39;</span> <span class="o">%</span> <span class="n">corpus</span><span class="o">.</span><span class="n">index_by</span>
<span class="go">The primary index field for the Papers in my Corpus is &quot;wosid&quot;</span>
</pre></div>
</div>
<p>The primary index for your <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a> can be found in the
<code class="docutils literal"><span class="pre">indexed_papers</span></code> attribute. <code class="docutils literal"><span class="pre">indexed_papers</span></code> is a dictionary that
maps the value of the indexing field for each <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a> onto that
<a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a> itself.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">indexed_papers</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>   <span class="c"># We&#39;ll just show the first ten Papers, for the sake of space.</span>
<span class="go">[(&#39;WOS:000078288500016&#39;, &lt;tethne.classes.paper.Paper at 0x10d886dd0&gt;),</span>
<span class="go"> (&#39;WOS:000225242500007&#39;, &lt;tethne.classes.paper.Paper at 0x10c1c9f50&gt;),</span>
<span class="go"> (&#39;WOS:000074414100009&#39;, &lt;tethne.classes.paper.Paper at 0x10d950890&gt;),</span>
<span class="go"> (&#39;WOS:000268928200019&#39;, &lt;tethne.classes.paper.Paper at 0x110506b10&gt;),</span>
<span class="go"> (&#39;WOS:000305886800001&#39;, &lt;tethne.classes.paper.Paper at 0x109516610&gt;),</span>
<span class="go"> (&#39;WOS:000275757500014&#39;, &lt;tethne.classes.paper.Paper at 0x10fbe6d50&gt;),</span>
<span class="go"> (&#39;WOS:A1995RV72900015&#39;, &lt;tethne.classes.paper.Paper at 0x10e162290&gt;),</span>
<span class="go"> (&#39;WOS:000308634600013&#39;, &lt;tethne.classes.paper.Paper at 0x108b14990&gt;),</span>
<span class="go"> (&#39;WOS:000314781600006&#39;, &lt;tethne.classes.paper.Paper at 0x1083a9350&gt;),</span>
<span class="go"> (&#39;WOS:000220323300004&#39;, &lt;tethne.classes.paper.Paper at 0x10c4e4290&gt;)]</span>
</pre></div>
</div>
<p>So if you know (in this case) the <code class="docutils literal"><span class="pre">wosid</span></code> of a <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>, you can
retrieve that <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a> by passing the <code class="docutils literal"><span class="pre">wosid</span></code> to <code class="docutils literal"><span class="pre">indexed_papers</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">indexed_papers</span><span class="p">[</span><span class="s">&#39;WOS:000321911200011&#39;</span><span class="p">]</span>
<span class="go">&lt;tethne.classes.paper.Paper at 0x10760a490&gt;</span>
</pre></div>
</div>
<p>If you&#8217;d prefer to index by a different field, you can pass the
<code class="docutils literal"><span class="pre">index_by</span></code> parameter to <code class="docutils literal"><span class="pre">read</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">otherCorpus</span> <span class="o">=</span> <span class="n">wos</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">datapath</span><span class="p">,</span> <span class="n">index_by</span><span class="o">=</span><span class="s">&#39;doi&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;The primary index field for the Papers in this other Corpus is &quot;</span><span class="si">%s</span><span class="s">&quot;&#39;</span> <span class="o">%</span> <span class="n">otherCorpus</span><span class="o">.</span><span class="n">index_by</span>
<span class="go">The primary index field for the Papers in this other Corpus is &quot;doi&quot;</span>
</pre></div>
</div>
<p>If some of the <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s lack the indexing field that you specified
with the <code class="docutils literal"><span class="pre">index_by</span></code> parameter, Tethne will automatically generate a
unique identifier for each of those <code class="docutils literal"><span class="pre">Papers</span></code>. For example, in our
<code class="docutils literal"><span class="pre">otherCorpus</span></code> that we indexed by <code class="docutils literal"><span class="pre">doi</span></code>, most of the papers have
valid DOIs, but a few (#1, below) did not &#8211; a nonsensical-looking
sequence of alphanumeric characters was used instead.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">doi</span><span class="p">,</span> <span class="n">paper</span> <span class="ow">in</span> <span class="n">otherCorpus</span><span class="o">.</span><span class="n">indexed_papers</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;(</span><span class="si">%i</span><span class="s">) DOI: </span><span class="si">%s</span><span class="s"> </span><span class="se">\t</span><span class="s"> ---&gt; </span><span class="se">\t</span><span class="s"> Paper: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">doi</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span> <span class="n">paper</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="go">(0) DOI: 10.1007/s004420050317                ---&gt;    Paper: &lt;tethne.classes.paper.Paper object at 0x1080dd0d0&gt;</span>
<span class="go">(1) DOI: 44a4e0d3fa05975610ae51e51b02fb3d     ---&gt;    Paper: &lt;tethne.classes.paper.Paper object at 0x107ddf1d0&gt;</span>
<span class="go">(2) DOI: 10.1111/evo.12036                    ---&gt;    Paper: &lt;tethne.classes.paper.Paper object at 0x10d9bb6d0&gt;</span>
<span class="go">(3) DOI: 10.1111/nph.12388                    ---&gt;    Paper: &lt;tethne.classes.paper.Paper object at 0x11059e090&gt;</span>
<span class="go">(4) DOI: 10.1007/s00442-007-0712-4            ---&gt;    Paper: &lt;tethne.classes.paper.Paper object at 0x1197befd0&gt;</span>
<span class="go">(5) DOI: 10.1684/ers.2012.0589                ---&gt;    Paper: &lt;tethne.classes.paper.Paper object at 0x122ea5510&gt;</span>
<span class="go">(6) DOI: 10.1046/j.1365-2435.2002.00663.x     ---&gt;    Paper: &lt;tethne.classes.paper.Paper object at 0x10eebb250&gt;</span>
<span class="go">(7) DOI: 10.1080/17550874.2011.577459         ---&gt;    Paper: &lt;tethne.classes.paper.Paper object at 0x109215750&gt;</span>
<span class="go">(8) DOI: 10.1016/0378-1127(94)03497-K         ---&gt;    Paper: &lt;tethne.classes.paper.Paper object at 0x108655950&gt;</span>
<span class="go">(9) DOI: 10.1111/j.1420-9101.2011.02393.x     ---&gt;    Paper: &lt;tethne.classes.paper.Paper object at 0x120158890&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="other-indexing-fields">
<h1>Other indexing fields<a class="headerlink" href="#other-indexing-fields" title="Permalink to this headline">¶</a></h1>
<p>In addition to the primary index, you can index the <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s in your
<a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a> using any other fields that you like. By default, the Web of
Science <code class="docutils literal"><span class="pre">read</span></code> method will index <code class="docutils literal"><span class="pre">'citations'</span></code> and <code class="docutils literal"><span class="pre">'authors'</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;The following Paper fields have been indexed: </span><span class="se">\n\n\t</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="s">&#39;</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">corpus</span><span class="o">.</span><span class="n">indices</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">The following Paper fields have been indexed:</span>
<span class="go">         citations</span>
<span class="go">         authors</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">'citations'</span></code> index, for example, allows us to look up all of the
<a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s that contain a particular bibliographic reference:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">citation</span><span class="p">,</span> <span class="n">papers</span> <span class="ow">in</span> <span class="n">corpus</span><span class="o">.</span><span class="n">indices</span><span class="p">[</span><span class="s">&#39;citations&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">7</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>   <span class="c"># Show the first three, for space&#39;s sake.</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;The following Papers cite </span><span class="si">%s</span><span class="s">: </span><span class="se">\n\n\t</span><span class="si">%s</span><span class="s"> </span><span class="se">\n</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">citation</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">papers</span><span class="p">))</span>
<span class="go">The following Papers cite WHITFIELD J 2006 NATURE:</span>
<span class="go">     WOS:000252758800011</span>
<span class="go">     WOS:000253464000004</span>
<span class="go">The following Papers cite WANG T 2006 GLOBAL CHANGE BIOL:</span>
<span class="go">     WOS:000282225000019</span>
<span class="go">     WOS:000281546800001</span>
<span class="go">     WOS:000251903200006</span>
<span class="go">     WOS:000292901400010</span>
<span class="go">     WOS:000288656800015</span>
<span class="go">     WOS:000318353300001</span>
<span class="go">     WOS:000296710600017</span>
<span class="go">     WOS:000255552100006</span>
<span class="go">     WOS:000272153800012</span>
<span class="go">The following Papers cite LINKOSALO T 2009 AGR FOREST METEOROL:</span>
<span class="go">     WOS:000298398700003</span>
</pre></div>
</div>
<p>Notice that the values above are not <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s themselves, but
identifiers. These are the same identifiers used in the primary index,
so we can use them to look up <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">papers</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">indices</span><span class="p">[</span><span class="s">&#39;citations&#39;</span><span class="p">][</span><span class="s">&#39;CARLSON SM 2004 EVOL ECOL RES&#39;</span><span class="p">]</span>  <span class="c"># Who cited Carlson 2004?</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">papers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">paper</span> <span class="ow">in</span> <span class="n">papers</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">corpus</span><span class="o">.</span><span class="n">indexed_papers</span><span class="p">[</span><span class="n">paper</span><span class="p">]</span>
<span class="go">[&#39;WOS:000311994600006&#39;, &#39;WOS:000304903100014&#39;, &#39;WOS:000248812000005&#39;]</span>
<span class="go">&lt;tethne.classes.paper.Paper object at 0x112d1fe10&gt;</span>
<span class="go">&lt;tethne.classes.paper.Paper object at 0x1121e8310&gt;</span>
<span class="go">&lt;tethne.classes.paper.Paper object at 0x1144ad390&gt;</span>
</pre></div>
</div>
<p>We can create new indices using the <code class="docutils literal"><span class="pre">index</span></code> method. For example, to
index our <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a> using the <code class="docutils literal"><span class="pre">authorKeywords</span></code> field:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">&#39;authorKeywords&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">keyword</span><span class="p">,</span> <span class="n">papers</span> <span class="ow">in</span> <span class="n">corpus</span><span class="o">.</span><span class="n">indices</span><span class="p">[</span><span class="s">&#39;authorKeywords&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">6</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>   <span class="c"># Show the first three, for space&#39;s sake.</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;The following Papers contain the keyword </span><span class="si">%s</span><span class="s">: </span><span class="se">\n\n\t</span><span class="si">%s</span><span class="s"> </span><span class="se">\n</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">keyword</span><span class="p">,</span> <span class="s">&#39;</span><span class="se">\n\t</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">papers</span><span class="p">))</span>
<span class="go">The following Papers contain the keyword EFFICIENCY:</span>
<span class="go">    WOS:000322031500005</span>
<span class="go">    WOS:000256598600035</span>
<span class="go">    WOS:A1997WW80400007</span>
<span class="go">The following Papers contain the keyword SALVELINUS-ALPINUS L.:</span>
<span class="go">    WOS:000314988900003</span>
<span class="go">The following Papers contain the keyword ALLOCHRONIC SPECIATION:</span>
<span class="go">    WOS:000292040700014</span>
<span class="go">The following Papers contain the keyword AEROBIC PERFORMANCE:</span>
<span class="go">    WOS:000316115400013</span>
<span class="go">    WOS:000316115400014</span>
</pre></div>
</div>
<p>Since we&#8217;re interested in historical trends in our <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a>, we
probably also want to index the <code class="docutils literal"><span class="pre">date</span></code> field:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s">&#39;date&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">date</span><span class="p">,</span> <span class="n">papers</span> <span class="ow">in</span> <span class="n">corpus</span><span class="o">.</span><span class="n">indices</span><span class="p">[</span><span class="s">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="o">-</span><span class="mi">11</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>   <span class="c"># Last ten years.</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;There are </span><span class="si">%i</span><span class="s"> Papers from </span><span class="si">%i</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">papers</span><span class="p">),</span> <span class="n">date</span><span class="p">)</span>
<span class="go">There are 58 Papers from 2003</span>
<span class="go">There are 77 Papers from 2004</span>
<span class="go">There are 84 Papers from 2005</span>
<span class="go">There are 71 Papers from 2006</span>
<span class="go">There are 103 Papers from 2007</span>
<span class="go">There are 130 Papers from 2008</span>
<span class="go">There are 143 Papers from 2009</span>
<span class="go">There are 161 Papers from 2010</span>
<span class="go">There are 190 Papers from 2011</span>
<span class="go">There are 201 Papers from 2012</span>
</pre></div>
</div>
<p>We can examine the distribution of <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s over time using the
<code class="docutils literal"><span class="pre">distribution</span></code> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">distribution</span><span class="p">()[</span><span class="o">-</span><span class="mi">11</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>   <span class="c"># Last ten years.</span>
<span class="go">[58, 77, 84, 71, 103, 130, 143, 161, 190, 201]</span>
</pre></div>
</div>
<img alt="_images/output_30_0.png" src="_images/output_30_0.png" />
</div>
<div class="section" id="selecting-papers-from-the-corpus">
<h1>Selecting <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s from the <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a><a class="headerlink" href="#selecting-papers-from-the-corpus" title="Permalink to this headline">¶</a></h1>
<p>In previous examples, we selected a <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a> from our <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a>
using the primary index, <code class="docutils literal"><span class="pre">indexed_papers</span></code>. In fact, there is a much simpler
way! <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a> allows us to &#8220;select&#8221; <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s using its
built-in <code class="docutils literal"><span class="pre">get</span></code> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="p">[</span><span class="s">&#39;WOS:000309391500014&#39;</span><span class="p">]</span>
<span class="go">&lt;tethne.classes.paper.Paper at 0x1126787d0&gt;</span>
</pre></div>
</div>
<p>Whoa! But it gets better. We can select <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s using any of the
indices in the <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a>. For example, we can select all of the papers
with the <code class="docutils literal"><span class="pre">authorKeyword</span></code> <code class="docutils literal"><span class="pre">LIFE</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="p">[(</span><span class="s">&#39;authorKeywords&#39;</span><span class="p">,</span> <span class="s">&#39;LIFE&#39;</span><span class="p">)]</span>
<span class="go">[&lt;tethne.classes.paper.Paper at 0x112580090&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11187ca50&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11e4af9d0&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11dca0290&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11b249b90&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11a83a290&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11eb05910&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x112578110&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11db9ce90&gt;]</span>
</pre></div>
</div>
<p>We can also select <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s using several values. For example, with
the primary index field:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="p">[[</span><span class="s">&#39;WOS:000309391500014&#39;</span><span class="p">,</span> <span class="s">&#39;WOS:000306532900015&#39;</span><span class="p">]]</span>
<span class="go">[&lt;tethne.classes.paper.Paper at 0x1126787d0&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x112578110&gt;]</span>
</pre></div>
</div>
<p>...and with other indexed fields (think of this as an OR search):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="p">[(</span><span class="s">&#39;authorKeywords&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;LIFE&#39;</span><span class="p">,</span> <span class="s">&#39;ENZYME GENOTYPE&#39;</span><span class="p">,</span> <span class="s">&#39;POLAR AUXIN&#39;</span><span class="p">])]</span>
<span class="go">[&lt;tethne.classes.paper.Paper at 0x112580090&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11187ca50&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11e4af9d0&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11dca0290&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11b249b90&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11a83a290&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11eb05910&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x112578110&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x11db9ce90&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x1126787d0&gt;,</span>
<span class="go"> &lt;tethne.classes.paper.Paper at 0x114140fd0&gt;]</span>
</pre></div>
</div>
<p>Since we indexed <code class="docutils literal"><span class="pre">'date'</span></code> earlier, we could select any <code class="docutils literal"><span class="pre">Papers</span></code>
published between 2011 and 2012:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">papers</span> <span class="o">=</span> <span class="n">corpus</span><span class="p">[(</span><span class="s">&#39;date&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2002</span><span class="p">,</span> <span class="mi">2013</span><span class="p">))]</span> <span class="c"># range() excludes the &quot;last&quot; value.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;There are </span><span class="si">%i</span><span class="s"> Papers published between </span><span class="si">%i</span><span class="s"> and </span><span class="si">%i</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">papers</span><span class="p">),</span> <span class="mi">2002</span><span class="p">,</span> <span class="mi">2012</span><span class="p">)</span>
<span class="go">There are 1267 Papers published between 2002 and 2012</span>
</pre></div>
</div>
</div>
<div class="section" id="features">
<h1>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h1>
<p>Earlier we used specific fields in our <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s to create indices.
The inverse of an index is what we call a <strong>:class:`.FeatureSet`</strong>. A
<a class="reference internal" href="tethne.classes.feature.html#tethne.classes.feature.FeatureSet" title="tethne.classes.feature.FeatureSet"><code class="xref py py-class docutils literal"><span class="pre">FeatureSet</span></code></a> contains data about the occurrence of specific features
across all of the <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s in our <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a>.</p>
<p>The <code class="docutils literal"><span class="pre">read</span></code> method generates a few <a class="reference internal" href="tethne.classes.feature.html#tethne.classes.feature.FeatureSet" title="tethne.classes.feature.FeatureSet"><code class="xref py py-class docutils literal"><span class="pre">FeatureSet</span></code></a> by default. All of
the available <a class="reference internal" href="tethne.classes.feature.html#tethne.classes.feature.FeatureSet" title="tethne.classes.feature.FeatureSet"><code class="xref py py-class docutils literal"><span class="pre">FeatureSet</span></code></a>s are stored in a dictionary,
<a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus.features" title="tethne.classes.corpus.Corpus.features"><code class="xref py py-attr docutils literal"><span class="pre">Corpus.features</span></code></a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="go">[(&#39;citations&#39;, &lt;tethne.classes.feature.FeatureSet at 0x123ce0dd0&gt;),</span>
<span class="go"> (&#39;authors&#39;, &lt;tethne.classes.feature.FeatureSet at 0x123ce0d90&gt;)]</span>
</pre></div>
</div>
<p>Each <a class="reference internal" href="tethne.classes.feature.html#tethne.classes.feature.FeatureSet" title="tethne.classes.feature.FeatureSet"><code class="xref py py-class docutils literal"><span class="pre">FeatureSet</span></code></a> has several properties:</p>
<p><code class="xref py py-attr docutils literal"><span class="pre">FeatureSet.index</span></code> maps integer identifiers to specific features.
For example, for author names:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">featureset</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">features</span><span class="p">[</span><span class="s">&#39;authors&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">author</span> <span class="ow">in</span> <span class="n">featureset</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%i</span><span class="s">  --&gt;  &quot;</span><span class="si">%s</span><span class="s">&quot;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">author</span><span class="p">))</span> <span class="c"># Author names are stored as (LAST, FIRST M).</span>
<span class="go">0  --&gt;  &quot;AHLROTH, P&quot;</span>
<span class="go">1  --&gt;  &quot;SUHONEN, J&quot;</span>
<span class="go">2  --&gt;  &quot;ALATALO, RV&quot;</span>
<span class="go">3  --&gt;  &quot;HYVARINEN, E&quot;</span>
<span class="go">4  --&gt;  &quot;HUSBAND, BC&quot;</span>
<span class="go">5  --&gt;  &quot;BURGESS, KS&quot;</span>
<span class="go">6  --&gt;  &quot;FISCHER, M&quot;</span>
<span class="go">7  --&gt;  &quot;MATTHIES, D&quot;</span>
<span class="go">8  --&gt;  &quot;ELZINGA, JELMER A&quot;</span>
<span class="go">9  --&gt;  &quot;BERNASCONI, GIORGINA&quot;</span>
</pre></div>
</div>
<p><code class="xref py py-attr docutils literal"><span class="pre">FeatureSet.lookup</span></code> is the reverse of <code class="xref py py-attr docutils literal"><span class="pre">FeatureSet.index</span></code> : it maps
features onto their integer IDs:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">featureset</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">features</span><span class="p">[</span><span class="s">&#39;authors&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">author</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">featureset</span><span class="o">.</span><span class="n">lookup</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">  --&gt;  </span><span class="si">%i</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">author</span><span class="p">)</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">25</span><span class="p">),</span> <span class="n">k</span><span class="p">)</span>
<span class="go">LIU, SR               --&gt;  4087</span>
<span class="go">IVEY, CHRISTOPHER T      --&gt;  805</span>
<span class="go">BURNS, KEVIN C          --&gt;  2338</span>
<span class="go">FUTUYMA, DOUGLAS J       --&gt;  4111</span>
<span class="go">FERRIER, SHARON M        --&gt;  2687</span>
<span class="go">ROOD, SB               --&gt;  2910</span>
<span class="go">YOKOYAMA, JUN           --&gt;  3033</span>
<span class="go">DODD, RS               --&gt;  3211</span>
<span class="go">SEXTON, JASON P         --&gt;  3112</span>
<span class="go">PEARSONS, TODD N         --&gt;  387</span>
</pre></div>
</div>
<p><code class="xref py py-attr docutils literal"><span class="pre">FeatureSet.documentCounts</span></code> shows how many <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s in our
<a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a> have a specific feature:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">featureset</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">features</span><span class="p">[</span><span class="s">&#39;authors&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">featureset</span><span class="o">.</span><span class="n">documentCounts</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;Feature </span><span class="si">%i</span><span class="s"> (which identifies author &quot;</span><span class="si">%s</span><span class="s">&quot;) is found in </span><span class="si">%i</span><span class="s"> documents&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="s">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">featureset</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">k</span><span class="p">]),</span> <span class="n">count</span><span class="p">)</span>
<span class="go">Feature 0 (which identifies author &quot;AHLROTH, P&quot;) is found in 1 documents</span>
<span class="go">Feature 1 (which identifies author &quot;SUHONEN, J&quot;) is found in 1 documents</span>
<span class="go">Feature 2 (which identifies author &quot;ALATALO, RV&quot;) is found in 1 documents</span>
<span class="go">Feature 3 (which identifies author &quot;HYVARINEN, E&quot;) is found in 1 documents</span>
<span class="go">Feature 4 (which identifies author &quot;HUSBAND, BC&quot;) is found in 1 documents</span>
<span class="go">Feature 5 (which identifies author &quot;BURGESS, KS&quot;) is found in 1 documents</span>
<span class="go">Feature 6 (which identifies author &quot;FISCHER, M&quot;) is found in 5 documents</span>
<span class="go">Feature 7 (which identifies author &quot;MATTHIES, D&quot;) is found in 4 documents</span>
<span class="go">Feature 8 (which identifies author &quot;ELZINGA, JELMER A&quot;) is found in 1 documents</span>
<span class="go">Feature 9 (which identifies author &quot;BERNASCONI, GIORGINA&quot;) is found in 2 documents</span>
</pre></div>
</div>
<p><code class="xref py py-attr docutils literal"><span class="pre">FeatureSet.features</span></code> shows how many times each feature occurs in
each <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">featureset</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">(&#39;WOS:000078288500016&#39;,</span>
<span class="go"> [((&#39;SUHONEN&#39;, &#39;J&#39;), 1),</span>
<span class="go">  ((&#39;AHLROTH&#39;, &#39;P&#39;), 1),</span>
<span class="go">  ((&#39;ALATALO&#39;, &#39;RV&#39;), 1),</span>
<span class="go">  ((&#39;HYVARINEN&#39;, &#39;E&#39;), 1)])</span>
</pre></div>
</div>
<p>We can create a new <a class="reference internal" href="tethne.classes.feature.html#tethne.classes.feature.FeatureSet" title="tethne.classes.feature.FeatureSet"><code class="xref py py-class docutils literal"><span class="pre">FeatureSet</span></code></a> from just about any field in our
<a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a>, using <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus.index_feature" title="tethne.classes.corpus.Corpus.index_feature"><code class="xref py py-meth docutils literal"><span class="pre">Corpus.index_feature()</span></code></a>. For example, suppose
that we were interested in the distribution of <code class="docutils literal"><span class="pre">authorKeywords</span></code> across
the whole corpus:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">index_feature</span><span class="p">(</span><span class="s">&#39;authorKeywords&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;citations&#39;, &#39;authorKeywords&#39;, &#39;authors&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">featureset</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">features</span><span class="p">[</span><span class="s">&#39;authorKeywords&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">featureset</span><span class="o">.</span><span class="n">documentCounts</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="s">&#39;Keyword </span><span class="si">%s</span><span class="s"> is found in </span><span class="si">%i</span><span class="s"> documents&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">featureset</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">count</span><span class="p">)</span>
<span class="go">Keyword EVOLUTION is found in 233 documents</span>
<span class="go">Keyword DIMORPHISM is found in 8 documents</span>
<span class="go">Keyword LIMNOPORUS-CANALICULATUS is found in 1 documents</span>
<span class="go">Keyword DISPERSAL is found in 39 documents</span>
<span class="go">Keyword INSECTS is found in 8 documents</span>
<span class="go">Keyword MORPHS is found in 1 documents</span>
<span class="go">Keyword FLIGHTLESSNESS is found in 1 documents</span>
<span class="go">Keyword REMIGIS is found in 1 documents</span>
<span class="go">Keyword LIFE-HISTORY is found in 73 documents</span>
<span class="go">Keyword LOUISIANA IRISES is found in 3 documents</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">featureset</span><span class="o">.</span><span class="n">features</span><span class="p">[</span><span class="s">&#39;WOS:000324532900018&#39;</span><span class="p">]</span>   <span class="c"># Feature for a specific Paper.</span>
<span class="go">[(&#39;GENETIC SIMILARITY RULE&#39;, 1),</span>
<span class="go"> (&#39;ANT-APHID INTERACTIONS&#39;, 1),</span>
<span class="go"> (&#39;HERITABILITY&#39;, 1),</span>
<span class="go"> (&#39;GENOTYPE&#39;, 1),</span>
<span class="go"> (&#39;CONSEQUENCES&#39;, 1),</span>
<span class="go"> (&#39;FOOD-WEB&#39;, 1),</span>
<span class="go"> (&#39;DEFENSE&#39;, 1),</span>
<span class="go"> (&#39;FOREST ECOSYSTEM&#39;, 1),</span>
<span class="go"> (&#39;DIVERSITY&#39;, 1),</span>
<span class="go"> (&#39;ECOSYSTEM GENETICS&#39;, 1)]</span>
</pre></div>
</div>
<p><a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus.feature_distribution" title="tethne.classes.corpus.Corpus.feature_distribution"><code class="xref py py-meth docutils literal"><span class="pre">Corpus.feature_distribution()</span></code></a> yields the occurrence of a specific
feature over time.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">years</span><span class="p">,</span> <span class="n">values</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">feature_distribution</span><span class="p">(</span><span class="s">&#39;authorKeywords&#39;</span><span class="p">,</span> <span class="s">&#39;DIVERSITY&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">years</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">end</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">years</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">years</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Papers with DIVERSITY in authorKeywords&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/output_55_0.png" src="_images/output_55_0.png" />
</div>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo_round.png" alt="Logo">
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">A Closer Look at Corpora</a></li>
<li><a class="reference internal" href="#setting-the-primary-indexing-field-index-by">Setting the primary indexing field: <code class="docutils literal"><span class="pre">index_by</span></code></a></li>
<li><a class="reference internal" href="#other-indexing-fields">Other indexing fields</a></li>
<li><a class="reference internal" href="#selecting-papers-from-the-corpus">Selecting <code class="docutils literal"><span class="pre">Paper</span></code>s from the <code class="docutils literal"><span class="pre">Corpus</span></code></a></li>
<li><a class="reference internal" href="#features">Features</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.networks.html"
                        title="previous chapter">Creating Networks from Bibliographic Data</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tethne.html"
                        title="next chapter">tethne package</a></p>
  <h3>This Page</h3>
  <div>
    <a href="_sources/tutorial.corpora.txt"
       rel="nofollow">Show Source</a>
  </div>
<div class="this-page-menu">
  <a href="/scipy/docs/scipy-docs/tutorial.corpora.rst">Edit page</a>
</div>

        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2015, ASU Digital Innovation Group.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>