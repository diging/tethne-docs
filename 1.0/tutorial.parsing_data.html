<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Parsing Bibliographic Data &mdash; tethne 1.0 documentation</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <link rel="top" title="tethne 1.0 documentation" href="index.html" >
    <link rel="up" title="Tutorials" href="tutorials.html" >
    <link rel="next" title="Creating Networks from Bibliographic Data" href="tutorial.networks.html" >
    <link rel="prev" title="Getting Bibliographic Data" href="tutorial.getting_data.html" > 
  </head>
  <body>

<div class="container">
  <div class="top-scipy-org-logo-header">
    <a href="index.html">
      <img style="border: 0; height: 60px;" alt="SciPy" src="_static/img/logo_long_devo.png"></a>
    </div>
  </div>
</div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="http://diging.github.io/tethne/">Tethne</a></li>
	
        <li class="active"><a href="index.html">tethne 1.0 documentation</a></li>
	
          <li class="active"><a href="tutorials.html" accesskey="U">Tutorials</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="tutorial.networks.html" title="Creating Networks from Bibliographic Data"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="tutorial.getting_data.html" title="Getting Bibliographic Data"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="parsing-bibliographic-data">
<span id="parsingdata"></span><h1>Parsing Bibliographic Data<a class="headerlink" href="#parsing-bibliographic-data" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For instructions on acquiring bibliographic data from several sources,
see <a class="reference internal" href="tutorial.getting_data.html#gettingdata"><span>Getting Bibliographic Data</span></a>.</p>
</div>
<p>Tethne provides several parsing modules, located in <a class="reference internal" href="tethne.readers.html#module-tethne.readers" title="tethne.readers"><code class="xref py py-mod docutils literal"><span class="pre">tethne.readers</span></code></a>. The
recommended pattern for parsing data is to import the parsing module
corresponding to your data type, and use its&#8217; <code class="docutils literal"><span class="pre">read</span></code> function to parse your
data. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.readers</span> <span class="kn">import</span> <span class="n">wos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myCorpus</span> <span class="o">=</span> <span class="n">wos</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;/path/to/my/data.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>By default, <code class="docutils literal"><span class="pre">read</span></code> will return a <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a> object.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myCorpus</span>
<span class="go">&lt;tethne.classes.corpus.Corpus object at 0x1046aa7d0&gt;</span>
</pre></div>
</div>
<p>A <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a> is a collection of <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s that can be indexed in
a variety of ways. A <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a> behaves like a list of <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">myCorpus</span><span class="p">)</span>    <span class="c"># How many Papers do I have?</span>
<span class="go">500</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myCorpus</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>      <span class="c"># Returns the first Paper.</span>
<span class="go">&lt;tethne.classes.paper.Paper at 0x10bcde290&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myCorpus</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>     <span class="c"># Returns the last Paper.</span>
<span class="go">&lt;tethne.classes.paper.Paper at 0x103911f50&gt;</span>
</pre></div>
</div>
<p>Depending on which module you use, <code class="docutils literal"><span class="pre">read</span></code> will make assumptions about which
field to use as the primary index for the <a class="reference internal" href="tethne.classes.paper.html#tethne.classes.paper.Paper" title="tethne.classes.paper.Paper"><code class="xref py py-class docutils literal"><span class="pre">Paper</span></code></a>s in your dataset.
The default for Web of Science data, for example, is <code class="docutils literal"><span class="pre">'wosid'</span></code> (the value of
the <code class="docutils literal"><span class="pre">UT</span></code> field-tag).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myCorpus</span><span class="o">.</span><span class="n">index_by</span>
<span class="go">&#39;wosid&#39;</span>
</pre></div>
</div>
<p>If you&#8217;d prefer to index by a different field, you can pass the <code class="docutils literal"><span class="pre">index_by</span></code>
parameter.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">myOtherCorpus</span> <span class="o">=</span> <span class="n">wos</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;/path/to/my/data.txt&#39;</span><span class="p">,</span> <span class="n">index_by</span><span class="o">=</span><span class="s">&#39;doi&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myOtherCorpus</span><span class="o">.</span><span class="n">index_by</span>
<span class="go">&#39;doi&#39;</span>
</pre></div>
</div>
<p>The following sections describe the behavior of each of the parsing modules.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#web-of-science" id="id3">Web of Science</a><ul>
<li><a class="reference internal" href="#parsing-several-wos-files" id="id4">Parsing Several WoS Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#jstor-data-for-research" id="id5">JSTOR Data for Research</a><ul>
<li><a class="reference internal" href="#parsing-several-dfr-files" id="id6">Parsing Several DfR Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#zotero-rdf" id="id7">Zotero RDF</a></li>
</ul>
</div>
<div class="section" id="web-of-science">
<h2><a class="toc-backref" href="#id3">Web of Science</a><a class="headerlink" href="#web-of-science" title="Permalink to this headline">¶</a></h2>
<p>To parse a Web of Science field-tagged file, or a collection of field-tagged
files, use the <a class="reference internal" href="tethne.readers.wos.html#tethne.readers.wos.read" title="tethne.readers.wos.read"><code class="xref py py-func docutils literal"><span class="pre">tethne.readers.wos.read()</span></code></a> method.</p>
<p>To parse a single file, provide the path to that data file. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.readers</span> <span class="kn">import</span> <span class="n">wos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span> <span class="o">=</span> <span class="n">wos</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;/path/to/my/data.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="parsing-several-wos-files">
<h3><a class="toc-backref" href="#id4">Parsing Several WoS Files</a><a class="headerlink" href="#parsing-several-wos-files" title="Permalink to this headline">¶</a></h3>
<p>Often you&#8217;ll be working with datasets comprised of multiple data files. The Web
of Science database only allows you to download 500 records at a time (because
they&#8217;re dirty capitalists). You can use the <strong>``read``</strong> function to load a list
of <a href="#id1"><span class="problematic" id="id2">``</span></a>Paper``s from a directory containing multiple data files.</p>
<p>The <code class="docutils literal"><span class="pre">read</span></code> function knows that your path is a directory and not a data file;
it looks inside of that directory for WoS data files.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span> <span class="o">=</span> <span class="n">wos</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;/Path/to/my/wos/data/dir&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="jstor-data-for-research">
<h2><a class="toc-backref" href="#id5">JSTOR Data for Research</a><a class="headerlink" href="#jstor-data-for-research" title="Permalink to this headline">¶</a></h2>
<p>The DfR parsing module is <a class="reference internal" href="tethne.readers.dfr.html#module-tethne.readers.dfr" title="tethne.readers.dfr"><code class="xref py py-mod docutils literal"><span class="pre">tethne.readers.dfr</span></code></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.readers</span> <span class="kn">import</span> <span class="n">dfr</span>
</pre></div>
</div>
<p>The DfR reader works just like the WoS reader. To load a single dataset, provide
the path to the folder created when you unzipped your dataset download (it
should contain a file called <code class="docutils literal"><span class="pre">citations.xml</span></code>).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span> <span class="o">=</span> <span class="n">dfr</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;/path/to/my/dfr&#39;</span><span class="p">,</span> <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;uni&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Whereas Corpora generated from WoS datasets are indexed by <code class="docutils literal"><span class="pre">wosid</span></code> by default,
Corpora generated from DfR datasets are indexed by <code class="docutils literal"><span class="pre">doi</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">indexed_papers</span><span class="o">.</span><span class="n">keys</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>    <span class="c"># The first 10 dois.</span>
<span class="go">[&#39;10.2307/2418718&#39;,</span>
<span class="go"> &#39;10.2307/2258178&#39;,</span>
<span class="go"> &#39;10.2307/3241549&#39;,</span>
<span class="go"> &#39;10.2307/2416998&#39;,</span>
<span class="go"> &#39;10.2307/20000814&#39;,</span>
<span class="go"> &#39;10.2307/2428935&#39;,</span>
<span class="go"> &#39;10.2307/2418714&#39;,</span>
<span class="go"> &#39;10.2307/1729159&#39;,</span>
<span class="go"> &#39;10.2307/2407516&#39;,</span>
<span class="go"> &#39;10.2307/2816048&#39;]</span>
</pre></div>
</div>
<p>But unlike WoS datasets, DfR datasets can contain wordcounts and N-grams in
addition to bibliographic data. <code class="docutils literal"><span class="pre">read</span></code> will find these extra data about your
Bibliographic records, and load them as
<a class="reference internal" href="tethne.classes.feature.html#tethne.classes.feature.FeatureSet" title="tethne.classes.feature.FeatureSet"><code class="xref py py-class docutils literal"><span class="pre">tethne.classes.feature.FeatureSet</span></code></a> instances.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">features</span>
<span class="go">{&#39;authors&#39;: &lt;tethne.classes.feature.FeatureSet at 0x100434e90&gt;,</span>
<span class="go"> &#39;citations&#39;: &lt;tethne.classes.feature.FeatureSet at 0x10041b990&gt;,</span>
<span class="go"> &#39;wordcounts&#39;: &lt;tethne.classes.feature.FeatureSet at 0x107688750&gt;}</span>
</pre></div>
</div>
<div class="section" id="parsing-several-dfr-files">
<h3><a class="toc-backref" href="#id6">Parsing Several DfR Files</a><a class="headerlink" href="#parsing-several-dfr-files" title="Permalink to this headline">¶</a></h3>
<p>Just like the WoS parser, the DfR <code class="docutils literal"><span class="pre">read</span></code> function can load several datasets
at once. Instead of providing a path to a single dataset, provide a path to a
directory containing several datasets. <code class="docutils literal"><span class="pre">read</span></code> will look for DfR datasets, and
load them all into a single <a class="reference internal" href="tethne.classes.corpus.html#tethne.classes.corpus.Corpus" title="tethne.classes.corpus.Corpus"><code class="xref py py-class docutils literal"><span class="pre">Corpus</span></code></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span> <span class="o">=</span> <span class="n">dfr</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;/path/to/many/datasets&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="zotero-rdf">
<h2><a class="toc-backref" href="#id7">Zotero RDF</a><a class="headerlink" href="#zotero-rdf" title="Permalink to this headline">¶</a></h2>
<p>The Zotero parsing module is <a class="reference internal" href="tethne.readers.zotero.html#module-tethne.readers.zotero" title="tethne.readers.zotero"><code class="xref py py-mod docutils literal"><span class="pre">tethne.readers.zotero</span></code></a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tethne.readers</span> <span class="kn">import</span> <span class="n">zotero</span>
</pre></div>
</div>
<p>The Zotero reader works just like the WoS and DfR readers. To load a single
dataset, provide the path to the folder created when you exported your Zotero
collection (it should contain a file with an <code class="docutils literal"><span class="pre">.rdf</span></code> extension).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span> <span class="o">=</span> <span class="n">zotero</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s">&#39;/path/to/my/rdf/export&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Since RDF relies on <a class="reference external" href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">Uniform Resource Identifiers (URIs)</a>, the default
indexing field for Zotero datasets is <code class="docutils literal"><span class="pre">uri</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">indexed_papers</span><span class="o">.</span><span class="n">items</span><span class="p">()[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>    <span class="c"># The first 10 URIs.</span>
<span class="go">[(&#39;http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3527233/&#39;,</span>
<span class="go">  &lt;tethne.classes.paper.Paper at 0x10976dcd0&gt;),</span>
<span class="go"> (&#39;http://www.ncbi.nlm.nih.gov/pmc/articles/PMC1513266/&#39;,</span>
<span class="go">  &lt;tethne.classes.paper.Paper at 0x109dbf050&gt;),</span>
<span class="go"> (&#39;http://www.ncbi.nlm.nih.gov/pmc/articles/PMC2211313/&#39;,</span>
<span class="go">  &lt;tethne.classes.paper.Paper at 0x109712bd0&gt;),</span>
<span class="go"> (&#39;http://www.ncbi.nlm.nih.gov/pmc/articles/PMC2886068/&#39;,</span>
<span class="go">  &lt;tethne.classes.paper.Paper at 0x1095dc9d0&gt;),</span>
<span class="go"> (&#39;http://www.ncbi.nlm.nih.gov/pmc/articles/PMC1914331/&#39;,</span>
<span class="go">  &lt;tethne.classes.paper.Paper at 0x1095dc5d0&gt;)]</span>
</pre></div>
</div>
<p>By default, the Zotero reader will attempt to extract text from any attached
files. In v1.0, Tethne extracts text from PDFs and plain-text files. These are
represented as <a class="reference internal" href="tethne.classes.feature.html#tethne.classes.feature.StructuredFeatureSet" title="tethne.classes.feature.StructuredFeatureSet"><code class="xref py py-class docutils literal"><span class="pre">tethne.classes.feature.StructuredFeatureSet</span></code></a>s.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">structuredfeatures</span>
<span class="go">{&#39;pdf_text&#39;: &lt;tethne.classes.feature.StructuredFeatureSet at 0x10ab206d0&gt;}</span>
</pre></div>
</div>
<p>Note that text extracted from PDF files will belong to a
<a class="reference internal" href="tethne.classes.feature.html#tethne.classes.feature.StructuredFeature" title="tethne.classes.feature.StructuredFeature"><code class="xref py py-class docutils literal"><span class="pre">StructuredFeature</span></code></a> named &#8216;pdf_text&#8217;. Text extracted from plain-text
files will belong to a <a class="reference internal" href="tethne.classes.feature.html#tethne.classes.feature.StructuredFeature" title="tethne.classes.feature.StructuredFeature"><code class="xref py py-class docutils literal"><span class="pre">StructuredFeature</span></code></a> named &#8216;plain_text&#8217;.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Tethne uses <a class="reference external" href="https://pypi.python.org/pypi/slate">slate</a> to extract
embedded text from PDFs. Tethne does NOT perform OCR.</p>
</div>
</div>
</div>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo_round.png" alt="Logo">
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Parsing Bibliographic Data</a><ul>
<li><a class="reference internal" href="#web-of-science">Web of Science</a><ul>
<li><a class="reference internal" href="#parsing-several-wos-files">Parsing Several WoS Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#jstor-data-for-research">JSTOR Data for Research</a><ul>
<li><a class="reference internal" href="#parsing-several-dfr-files">Parsing Several DfR Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#zotero-rdf">Zotero RDF</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.getting_data.html"
                        title="previous chapter">Getting Bibliographic Data</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tutorial.networks.html"
                        title="next chapter">Creating Networks from Bibliographic Data</a></p>
  <h3>This Page</h3>
  <div>
    <a href="_sources/tutorial.parsing_data.txt"
       rel="nofollow">Show Source</a>
  </div>
<div class="this-page-menu">
  <a href="/scipy/docs/scipy-docs/tutorial.parsing_data.rst">Edit page</a>
</div>

        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2015, ASU Digital Innovation Group.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>